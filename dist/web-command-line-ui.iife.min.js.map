{"version":3,"file":"web-command-line-ui.iife.min.js","sources":["../src/DOMHelper.mjs","../src/Shell.mjs"],"sourcesContent":["const DOMHelper = {\r\n    createElementsFromHtml: function(_elementHTML) {\r\n        const wrapperElem = document.createElement('div');\r\n        wrapperElem.innerHTML = _elementHTML.trim();\r\n        return wrapperElem.childNodes;\r\n    },\r\n    \r\n    appendHTML: function(_parentElement, _childElementHtml) {\r\n        const elements = DOMHelper.createElementsFromHtml(_childElementHtml);        \r\n        const firstChild = elements[0];\r\n        \r\n        while(elements.length > 0) {\r\n            _parentElement.appendChild(elements[0]);\r\n        }\r\n        \r\n        return firstChild;\r\n    },\r\n\r\n    replaceHTML: function(_parentElement, _childElementHtml) {\r\n        _parentElement.innerHTML = \"\";\r\n        DOMHelper.appendHTML(_parentElement, _childElementHtml);\r\n    },\r\n\r\n    escapeHtml: function(unsafe) {\r\n        // from https://stackoverflow.com/a/6234804\r\n        return unsafe\r\n             .replace(/&/g, \"&amp;\")\r\n             .replace(/</g, \"&lt;\")\r\n             .replace(/>/g, \"&gt;\")\r\n             .replace(/\"/g, \"&quot;\")\r\n             .replace(/'/g, \"&#039;\");\r\n     }\r\n};\r\n\r\nexport { DOMHelper }\r\n","import {DOMHelper} from './DOMHelper.mjs'\r\n\r\nconst componentId = `c-web-command-line-ui-shell-8aad94b3-d0ab-42f1-ba32-2970ef9b7df2`;\r\n\r\n// From https://stackoverflow.com/a/2117523\r\nfunction uuidv4() {\r\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\r\n      var r = Math.random() * 16 | 0, v = c == 'x' ? r : (r & 0x3 | 0x8);\r\n      return v.toString(16);\r\n    });\r\n};\r\n\r\n/**\r\n * \r\n * @param {Element} _shellContainer \r\n * @param {String} _promptString \r\n */\r\nfunction Shell(_shellContainer, _promptString) {\r\n    const self = this;\r\n    const instanceId = `i-web-command-line-ui-shell-${uuidv4()}`;\r\n\r\n    const KEY_UP_ARROW = 38;\r\n    const KEY_DOWN_ARROW = 40;\r\n\r\n    const promptMarkup = `<span class='promptcolor'>${DOMHelper.escapeHtml(_promptString)}</span>&nbsp;`;\r\n    const commands = [];\r\n    const commandBuffer = [];\r\n    let commandBufferLookbackIndex = 0;\r\n    let currentCommandEntry = '';\r\n\r\n    const renderComponentStyles = function() {\r\n        const existingStyleElem = document.querySelector('style#c-8aad94b3-d0ab-42f1-ba32-2970ef9b7df2');\r\n        if(existingStyleElem !== null) {\r\n            document.removeChild(existingStyleElem);\r\n        }\r\n\r\n        const styles = `\r\n            .${componentId}-output { cursor:default; padding:5px 5px 0px 0px; }\r\n            .${componentId} .hide { display:none; }\r\n            .${componentId} .line { padding:2px 0; margin:0; }\r\n            .${componentId} input { background-color:transparent; color:#087AA7; margin:0; border:0 none; width:100%; outline:none; }\r\n            .${componentId} .inputtable { margin-bottom: 15px; }\r\n            .${componentId} .promptcolor { color:#878787; }\r\n            .${componentId} .prev-input { color:#087AA7; }\r\n            .${componentId} .output-block { color:#000; }\r\n            .${componentId} .output-block-expandable { }\r\n            .${componentId} .output-block-expandable:hover { background-color:#353535; }\r\n            .${componentId} .block-expanded-content { border-left:2px solid #6c6c6c; padding:0px 6px 0 6px; margin:4px 0 0 0; }\r\n\r\n            /* overrides / additions to default styles */\r\n            ${overrideStyles}\r\n\r\n        `.trim();\r\n\r\n        DOMHelper.appendHTML(document.head, `<style id=\"${componentId}\" style=\"text/css\">${styles}</style>`);\r\n    };\r\n\r\n    const renderComponentElements = function() {\r\n        var markup = `\r\n            <div class=\"${componentId} ${instanceId}\">\r\n                <div class=\"${componentId}-output\"></div>\r\n                <div class=\"${componentId}-input line\">\r\n                    <form class=\"${componentId}-cmdline\" onsubmit=\"return false;\">\r\n                        <table class=\"inputtable\" border=\"0\" cellspacing=\"0\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td class=\"${componentId}-inputprompt\">prompt:#&nbsp;</td>\r\n                                    <td style=\"width:100%;\"><input class=\"${componentId}-inputcmd\" autocomplete=\"off\" type=\"text\" /></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                \r\n                    </form>\r\n                </div>\r\n                \r\n                <div class=\"${componentId}-input-password\" style=\"display:none;\">\r\n                    <form class=\"${componentId}-cmdline-password\" onsubmit=\"return false;\">\r\n                        <table class=\"inputtable\" border=\"0\" cellspacing=\"0\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td class=\"${componentId}-inputpassprompt\">password:#&nbsp;</td>\r\n                                    <td style=\"width:100%;\"><input class=\"${componentId}-inputpass\" autocomplete=\"off\" type=\"password\" /></td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                \r\n                    </form>\r\n                </div>\r\n            </div>`;\r\n\r\n        return DOMHelper.appendHTML(_shellContainer, markup);\r\n    };\r\n\r\n    const shellElement = renderComponentElements();\r\n\r\n    const _promptContainer = shellElement.querySelector(`.${componentId}-input`);\r\n    const _inputForm = _promptContainer.querySelector(`.${componentId}-cmdline`);\r\n    const _promptElement = _promptContainer.querySelector(`.${componentId}-inputprompt`);\r\n    const _inputContainer = _promptContainer.querySelector(`.${componentId}-inputcmd`);\r\n    const _outputContainer = shellElement.querySelector(`.${componentId}-output`);\r\n\r\n    const outputBlockClass = 'output-block';\r\n\r\n    let maxOutputBlocks = 50;\r\n    let hasPausedAutoscroll = false;\r\n    let overrideStyles = \"\";\r\n\r\n    const putFocusOnInput = function() {\r\n        _inputContainer.focus();\r\n    };\r\n\r\n    const fetchInputLine = function() {\r\n        return _inputContainer.value;\r\n    };\r\n\r\n    const overwriteInputLine = function(_cmd) {\r\n        _inputContainer.value = _cmd;\r\n    };\r\n\r\n    const clearInputLine = function() {\r\n        _inputContainer.value = '';\r\n    };\r\n\r\n    const hidePrompt = function() {\r\n        _promptContainer.style.display = 'none';\r\n    };\r\n\r\n    const showPrompt = function() {\r\n        _promptContainer.style.display = 'block';\r\n    };\r\n\r\n    const processCommandInput = function() {\r\n        const ln = fetchInputLine();\r\n        if (ln.length <= 0)\r\n            return;\r\n\r\n        commandBuffer.push(ln);\r\n        commandBufferLookbackIndex = 0; // reset\r\n        currentCommandEntry = '';\r\n\r\n        DOMHelper.appendHTML(_outputContainer, `<p class=\"prev-input line\">${promptMarkup}${ln}</p>`);\r\n\r\n        clearInputLine();\r\n        hidePrompt();\r\n\r\n        let foundMatch = false;\r\n        commands.forEach((_command) => {\r\n            if(!_command.match(ln)) {\r\n                return false;\r\n            }\r\n\r\n            const output = _command.process(ln);\r\n            output.forEach((_outputLine) => {\r\n                self.writeLine(_outputLine);\r\n            });\r\n\r\n            foundMatch = true;\r\n        });\r\n\r\n        if(!foundMatch) {\r\n            self.writeLine(`¯\\_(ツ)_/¯ Unrecognized input`);\r\n        }\r\n\r\n        showPrompt();\r\n        window.scrollTo(0, document.body.scrollHeight);\r\n        putFocusOnInput();\r\n    };\r\n\r\n    const bindKeys = function () {\r\n        _inputContainer.addEventListener('keyup', function (e) {\r\n            if (e.keyCode == KEY_UP_ARROW) {\r\n                commandBufferLookbackIndex++;\r\n                if (commandBufferLookbackIndex > commandBuffer.length) {\r\n                    commandBufferLookbackIndex = commandBuffer.length;\r\n                }\r\n\r\n                overwriteInputLine(commandBuffer[commandBuffer.length - commandBufferLookbackIndex]);\r\n                e.preventDefault();\r\n            }\r\n            else if (e.keyCode == KEY_DOWN_ARROW) {\r\n                commandBufferLookbackIndex--;\r\n                if (commandBufferLookbackIndex <= 0) {\r\n                    commandBufferLookbackIndex = 0;\r\n                    overwriteInputLine(currentCommandEntry);\r\n                } else {\r\n                    overwriteInputLine(commandBuffer[commandBuffer.length - commandBufferLookbackIndex]);\r\n                }\r\n                e.preventDefault();\r\n            }\r\n            else {\r\n                currentCommandEntry = fetchInputLine();\r\n            }\r\n        });\r\n\r\n        _inputForm.addEventListener('submit', function () {\r\n            processCommandInput();\r\n        });\r\n\r\n        window.addEventListener('click', function(e) {\r\n            const parentBlockEl = e.target.closest(`.${outputBlockClass}`);\r\n            if(parentBlockEl) {\r\n                return;\r\n            }\r\n\r\n            // If we haven't selected anything, put focus back on the input prompt\r\n            if(window.getSelection().toString().length <= 0) {\r\n                putFocusOnInput();\r\n            }\r\n        });\r\n\r\n        DOMHelper.replaceHTML(_promptElement, promptMarkup);\r\n        putFocusOnInput();\r\n    };\r\n\r\n    const bindScrollHandler = function() {\r\n        document.addEventListener(\"scroll\", (e) => {\r\n            const maxScrollY = _outputContainer.offsetHeight - window.innerHeight;\r\n\r\n            //console.log(`window.scrollY = ${window.scrollY}`);\r\n            //console.log(`maxScrollY = ${maxScrollY}`);\r\n\r\n            if(window.scrollY < maxScrollY) {\r\n                hasPausedAutoscroll = true;\r\n            } else {\r\n                hasPausedAutoscroll = false;\r\n            }\r\n        });\r\n    };\r\n\r\n    const scrollToLastOutput = function() {\r\n        _outputContainer.scrollIntoView({ behavior: \"instant\", block: \"end\", inline: \"nearest\" });\r\n    };\r\n\r\n    const limitToMaxLines = function() {\r\n        const numOutputMessages = _outputContainer.querySelectorAll(`.${outputBlockClass}`).length;\r\n        if(numOutputMessages > maxOutputBlocks) {\r\n            _outputContainer.querySelector(`.${outputBlockClass}:first-of-type`).remove();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @returns {String}\r\n     */\r\n    this.getComponentId = function() {\r\n        return componentId;\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @param {String} _txt \r\n     */\r\n    this.writeLine = function(_txt) {\r\n        DOMHelper.appendHTML(_outputContainer, `<div class=\"${outputBlockClass} line\">${_txt}</div>`);\r\n        limitToMaxLines();\r\n\r\n        if(!hasPausedAutoscroll) {\r\n            scrollToLastOutput();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @param {String} _linePreviewTxt \r\n     * @param {*} _onExpansion \r\n     */\r\n    this.writeBlock = function(_id, _linePreviewTxt, _onExpansion) {\r\n        const blockContent = `\r\n            <div class=\"${outputBlockClass} output-block-expandable line\">\r\n                <div>${_linePreviewTxt}</div>\r\n                <div class=\"block-expanded-content hide\">test</div>\r\n            </div>\r\n        `;\r\n\r\n        const el = DOMHelper.appendHTML(_outputContainer, blockContent);\r\n        el.addEventListener(\"click\", function(e) {\r\n            e.preventDefault();\r\n\r\n            const parentBlockEl = e.target.closest(`.${outputBlockClass}`);\r\n            const expandedContentEl = (parentBlockEl.getElementsByClassName('block-expanded-content'))[0];\r\n\r\n            if(expandedContentEl.classList.contains('hide')) {\r\n                expandedContentEl.innerHTML = _onExpansion(_id);\r\n                expandedContentEl.classList.remove('hide');\r\n            } else {\r\n                expandedContentEl.classList.add('hide');\r\n                expandedContentEl.innerHTML = '';\r\n            }\r\n\r\n        });\r\n\r\n        limitToMaxLines();\r\n\r\n        if(!hasPausedAutoscroll) {\r\n            scrollToLastOutput();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @param {Object} _command \r\n     */\r\n    this.addCommand = function(_command) {\r\n        commands.push(_command);\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @param {Number} _max \r\n     */\r\n    this.setMaxOutputBlocks = function(_max) {\r\n        maxOutputBlocks = _max;\r\n    };\r\n\r\n    /**\r\n     * \r\n     * @param {String} _cssStr \r\n     */\r\n    this.setComponentStyleOverrides = function(_cssStr) {\r\n        overrideStyles = _cssStr;\r\n        renderComponentStyles();\r\n    };\r\n\r\n    bindKeys();\r\n    bindScrollHandler();\r\n    renderComponentStyles();\r\n};\r\n\r\n// expose componentId\r\nShell.componentId = componentId;\r\n\r\nexport { Shell }\r\n"],"names":["DOMHelper","createElementsFromHtml","_elementHTML","wrapperElem","document","createElement","innerHTML","trim","childNodes","appendHTML","_parentElement","_childElementHtml","elements","firstChild","length","appendChild","replaceHTML","escapeHtml","unsafe","replace","componentId","uuidv4","c","r","Math","random","v","toString","Shell","_shellContainer","_promptString","self","instanceId","KEY_UP_ARROW","KEY_DOWN_ARROW","promptMarkup","commands","commandBuffer","commandBufferLookbackIndex","currentCommandEntry","renderComponentStyles","existingStyleElem","querySelector","removeChild","styles","overrideStyles","head","renderComponentElements","markup","shellElement","_promptContainer","_inputForm","_promptElement","_inputContainer","_outputContainer","outputBlockClass","maxOutputBlocks","hasPausedAutoscroll","putFocusOnInput","focus","fetchInputLine","value","overwriteInputLine","_cmd","clearInputLine","hidePrompt","style","display","showPrompt","processCommandInput","ln","push","foundMatch","forEach","_command","match","output","process","_outputLine","writeLine","window","scrollTo","body","scrollHeight","bindKeys","addEventListener","e","keyCode","preventDefault","parentBlockEl","target","closest","getSelection","bindScrollHandler","maxScrollY","offsetHeight","innerHeight","scrollY","scrollToLastOutput","scrollIntoView","behavior","block","inline","limitToMaxLines","numOutputMessages","querySelectorAll","remove","getComponentId","_txt","writeBlock","_id","_linePreviewTxt","_onExpansion","blockContent","el","expandedContentEl","getElementsByClassName","classList","contains","add","addCommand","setMaxOutputBlocks","_max","setComponentStyleOverrides","_cssStr"],"mappings":"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"}